<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pendule_pi: include/pendule_pi/pendule.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pendule_pi
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pendule_8hpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">pendule.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="pendule_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="switch_8hpp.html">pendule_pi/switch.hpp</a>&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="encoder_8hpp.html">pendule_pi/encoder.hpp</a>&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="motor_8hpp.html">pendule_pi/motor.hpp</a>&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacependule__pi.html">pendule_pi</a> {</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html">   12</a></span>&#160;<span class="keyword">class </span><a class="code" href="classpendule__pi_1_1Pendule.html">Pendule</a> {</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="structpendule__pi_1_1Pendule_1_1Pins.html">   15</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structpendule__pi_1_1Pendule_1_1Pins.html">Pins</a> {</div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="structpendule__pi_1_1Pendule_1_1Pins.html#a313383a5a36e268e43c9eda6eec3ccb3">   16</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structpendule__pi_1_1Pendule_1_1Pins.html#a313383a5a36e268e43c9eda6eec3ccb3">motor_pwm</a>; </div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="structpendule__pi_1_1Pendule_1_1Pins.html#aba8982849de4060f7c7de8c2430b3a1b">   17</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structpendule__pi_1_1Pendule_1_1Pins.html#aba8982849de4060f7c7de8c2430b3a1b">motor_dir</a>; </div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="structpendule__pi_1_1Pendule_1_1Pins.html#a8e3f8bdb31910073d4a1318cb539bdf0">   18</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structpendule__pi_1_1Pendule_1_1Pins.html#a8e3f8bdb31910073d4a1318cb539bdf0">left_switch</a>; </div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="structpendule__pi_1_1Pendule_1_1Pins.html#aeb6e57f8fffbbc6c55294714d6500d5d">   19</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structpendule__pi_1_1Pendule_1_1Pins.html#aeb6e57f8fffbbc6c55294714d6500d5d">right_switch</a>; </div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="structpendule__pi_1_1Pendule_1_1Pins.html#a06cd49d7862ae21edcf7c09058b41163">   20</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structpendule__pi_1_1Pendule_1_1Pins.html#a06cd49d7862ae21edcf7c09058b41163">position_encoder_a</a>; </div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="structpendule__pi_1_1Pendule_1_1Pins.html#a34a9684441ebee96067d13df045c4869">   21</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structpendule__pi_1_1Pendule_1_1Pins.html#a34a9684441ebee96067d13df045c4869">position_encoder_b</a>; </div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="structpendule__pi_1_1Pendule_1_1Pins.html#a5849da2597a456cd3773a16f54d7941f">   22</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structpendule__pi_1_1Pendule_1_1Pins.html#a5849da2597a456cd3773a16f54d7941f">angle_encoder_a</a>; </div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="structpendule__pi_1_1Pendule_1_1Pins.html#a1d9b5cb52ed9433c8b39310e9d9a9aaf">   23</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structpendule__pi_1_1Pendule_1_1Pins.html#a1d9b5cb52ed9433c8b39310e9d9a9aaf">angle_encoder_b</a>; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <a class="code" href="structpendule__pi_1_1Pendule_1_1Pins.html#a4d4e7e3c082539882ec9da45e0e5f56b">Pins</a>();</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  };</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule_1_1NotCalibrated.html">   29</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classpendule__pi_1_1Pendule_1_1NotCalibrated.html">NotCalibrated</a> : <span class="keyword">public</span> std::runtime_error {</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule_1_1NotCalibrated.html#a7b882aed4d4227807be01439d725dff0">   32</a></span>&#160;    <a class="code" href="classpendule__pi_1_1Pendule_1_1NotCalibrated.html#a7b882aed4d4227807be01439d725dff0">NotCalibrated</a>() : std::runtime_error(<span class="stringliteral">&quot;Pendule was not calibrated yet!&quot;</span>) {}</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule_1_1NotCalibrated.html#ad4b63d65108ebad553a01f2840eca300">   37</a></span>&#160;    <a class="code" href="classpendule__pi_1_1Pendule_1_1NotCalibrated.html#ad4b63d65108ebad553a01f2840eca300">NotCalibrated</a>(<span class="keyword">const</span> std::string&amp; src) : std::runtime_error(src + <span class="stringliteral">&quot;: Pendule was not calibrated yet!&quot;</span>) {}</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  };</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule_1_1CalibrationFailed.html">   41</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classpendule__pi_1_1Pendule_1_1CalibrationFailed.html">CalibrationFailed</a> : <span class="keyword">public</span> std::runtime_error {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule_1_1CalibrationFailed.html#a8e0d9dbbe0a45f970e744c4c27b10e50">   46</a></span>&#160;    <a class="code" href="classpendule__pi_1_1Pendule_1_1CalibrationFailed.html#a8e0d9dbbe0a45f970e744c4c27b10e50">CalibrationFailed</a>(<span class="keyword">const</span> std::string&amp; why) : std::runtime_error(<span class="stringliteral">&quot;Pendulum calibration failed! Reason: &quot;</span> + why) {}</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  };</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule_1_1EmergencyStop.html">   50</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classpendule__pi_1_1Pendule_1_1EmergencyStop.html">EmergencyStop</a> : <span class="keyword">public</span> std::runtime_error {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule_1_1EmergencyStop.html#af814c87fdc29a6f0afc1510e54b155f5">   55</a></span>&#160;    <a class="code" href="classpendule__pi_1_1Pendule_1_1EmergencyStop.html#af814c87fdc29a6f0afc1510e54b155f5">EmergencyStop</a>(<span class="keyword">const</span> std::string&amp; why) : std::runtime_error(<span class="stringliteral">&quot;Pendulum::eStop has been called! Reason: &quot;</span> + why) {}</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  };</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="classpendule__pi_1_1Pendule.html#a9bb8c7622dc1b0a6be6ac162bf582c3f">Pendule</a>(</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordtype">double</span> meters_per_step,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordtype">double</span> radians_per_step,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordtype">double</span> rest_angle</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  );</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="classpendule__pi_1_1Pendule.html#a9bb8c7622dc1b0a6be6ac162bf582c3f">Pendule</a>(</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordtype">double</span> meters_per_step,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordtype">double</span> radians_per_step,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordtype">double</span> rest_angle,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keyword">const</span> Pins&amp; pins</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  );</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="classpendule__pi_1_1Pendule.html#a9bb8c7622dc1b0a6be6ac162bf582c3f">Pendule</a>(</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordtype">double</span> meters_per_step,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordtype">double</span> radians_per_step,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordtype">double</span> rest_angle,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    std::unique_ptr&lt;Motor&gt; motor,</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    std::unique_ptr&lt;Switch&gt; left_switch,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    std::unique_ptr&lt;Switch&gt; right_switch,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    std::unique_ptr&lt;Encoder&gt; position_encoder,</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    std::unique_ptr&lt;Encoder&gt; angle_encoder</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  );</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a76f8ad4ed4438981910354fd58f7ffb5">calibrate</a>(</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordtype">double</span> safety_margin_meters</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  );</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a03e34abda82a35ebe2f5307370813221">  191</a></span>&#160;  <span class="keyword">const</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span>&amp; <a class="code" href="classpendule__pi_1_1Pendule.html#a03e34abda82a35ebe2f5307370813221">isCalibrated</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a6e7abd9db0020aea65cbb9ce995685a1">calibrated_</a>; }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classpendule__pi_1_1Pendule.html#ae274e5a33c0a212d3c3beafce7e25ecb">update</a>(<span class="keywordtype">double</span> dt);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classpendule__pi_1_1Pendule.html#adb85bcd916bab0d791ca6ea73f464c12">setCommand</a>(<span class="keywordtype">int</span> <a class="code" href="namespacedemo__zmq.html#a5c3caa55de580f50140000aebd4dbf98">pwm</a>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a8c6ab55323c72f5a2db61de53580d144">  208</a></span>&#160;  <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; <a class="code" href="classpendule__pi_1_1Pendule.html#a8c6ab55323c72f5a2db61de53580d144">position</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a1b0879c5c7232ac2419948e7d9a53b08">position_</a>; }</div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a15fd422fa65dec6c161a7f51d5aaf3d0">  210</a></span>&#160;  <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; <a class="code" href="classpendule__pi_1_1Pendule.html#a15fd422fa65dec6c161a7f51d5aaf3d0">angle</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a66c850468082aba5e06f53785b89637a">angle_</a>; }</div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a2f5c8e9303b06b1330f71b2bc8d4ce25">  212</a></span>&#160;  <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; <a class="code" href="classpendule__pi_1_1Pendule.html#a2f5c8e9303b06b1330f71b2bc8d4ce25">linearVelocity</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classpendule__pi_1_1Pendule.html#aeab733c10b4c736b8c4c9db6cd42e9fb">linvel_</a>; }</div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a2952afadf9edabebcb4cce85e95b967a">  214</a></span>&#160;  <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; <a class="code" href="classpendule__pi_1_1Pendule.html#a2952afadf9edabebcb4cce85e95b967a">angularVelocity</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classpendule__pi_1_1Pendule.html#ab5e701ffe4a8dc13ffd2c4c0d0b3715d">angvel_</a>; }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; <a class="code" href="classpendule__pi_1_1Pendule.html#a993d322b5470bf8d052d3f27fe1d8727">minPositionSteps</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; <a class="code" href="classpendule__pi_1_1Pendule.html#a6d57676bf37975d46c8e40d4a02d8b45">maxPositionSteps</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; <a class="code" href="classpendule__pi_1_1Pendule.html#abaeb2647302623dc34233daf5be204aa">midPositionSteps</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; <a class="code" href="classpendule__pi_1_1Pendule.html#ac6c8fe2813f2f9cc13f519893330f158">softMinMaxPosition</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a19c702510087af40d43f546caad61e91">setPwmOffsets</a>(</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordtype">int</span> offset_down,</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordtype">int</span> offset_up</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  );</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classpendule__pi_1_1Pendule.html#ac139d7af8f82166122391dfd2a2b871c">eStop</a>(<span class="keyword">const</span> std::string&amp; why);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a6e7abd9db0020aea65cbb9ce995685a1">  265</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a6e7abd9db0020aea65cbb9ce995685a1">calibrated_</a>; </div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a2a1fa4ad95d936208fa00c42287605b5">  266</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a2a1fa4ad95d936208fa00c42287605b5">emergency_stopped_</a>; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">// State variables</span></div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a1b0879c5c7232ac2419948e7d9a53b08">  268</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a1b0879c5c7232ac2419948e7d9a53b08">position_</a>; </div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a66c850468082aba5e06f53785b89637a">  269</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a66c850468082aba5e06f53785b89637a">angle_</a>; </div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#aeab733c10b4c736b8c4c9db6cd42e9fb">  270</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classpendule__pi_1_1Pendule.html#aeab733c10b4c736b8c4c9db6cd42e9fb">linvel_</a>; </div>
<div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#ab5e701ffe4a8dc13ffd2c4c0d0b3715d">  271</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classpendule__pi_1_1Pendule.html#ab5e701ffe4a8dc13ffd2c4c0d0b3715d">angvel_</a>; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">// Calibration values</span></div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a2e24ff3a7b32091f974cb3ce0cc996e0">  273</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a2e24ff3a7b32091f974cb3ce0cc996e0">min_position_steps_</a>; </div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#ac8ecf9932a2825340c9117ed5c1dbb1a">  274</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classpendule__pi_1_1Pendule.html#ac8ecf9932a2825340c9117ed5c1dbb1a">max_position_steps_</a>; </div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a7eef5f9ef229f9f40d114db40d5c5622">  275</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a7eef5f9ef229f9f40d114db40d5c5622">mid_position_steps_</a>; </div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a75a2969a92230cf877e13fd797ec9e4f">  276</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a75a2969a92230cf877e13fd797ec9e4f">soft_minmax_position_meters_</a>; </div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#ab8564d9266c9fc4bda7bafe859a1dcb0">  277</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="classpendule__pi_1_1Pendule.html#ab8564d9266c9fc4bda7bafe859a1dcb0">meters_per_step_</a>; </div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a2ced1f0ca5eee1381d6585409c1133ee">  278</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a2ced1f0ca5eee1381d6585409c1133ee">radians_per_step_</a>; </div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a564a42dc7896438fe1879f81c25e0e6d">  279</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a564a42dc7896438fe1879f81c25e0e6d">rest_angle_</a>; </div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a9d66d81d873b07372786eeb64d3c767b">  280</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a9d66d81d873b07372786eeb64d3c767b">offset_up_</a>; </div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a17862f3687cc692277a15224c4d0ad25">  281</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a17862f3687cc692277a15224c4d0ad25">offset_down_</a>; </div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a15ea0bc8cf1d040b847fb1e57f4511f6">  282</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a15ea0bc8cf1d040b847fb1e57f4511f6">offset_static_</a>; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="comment">// Hardware components</span></div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#aae69513da955f189bd25a309043d3c9e">  284</a></span>&#160;  std::unique_ptr&lt;Motor&gt; <a class="code" href="classpendule__pi_1_1Pendule.html#aae69513da955f189bd25a309043d3c9e">motor_</a>; </div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a46d7e47fd909b33a94fde4022655f2b5">  285</a></span>&#160;  std::unique_ptr&lt;Switch&gt; <a class="code" href="classpendule__pi_1_1Pendule.html#a46d7e47fd909b33a94fde4022655f2b5">left_switch_</a>; </div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a4e9cfcbb3d6149b6e8fdde5c7a2c297e">  286</a></span>&#160;  std::unique_ptr&lt;Switch&gt; <a class="code" href="classpendule__pi_1_1Pendule.html#a4e9cfcbb3d6149b6e8fdde5c7a2c297e">right_switch_</a>; </div>
<div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a4f2354c95890b1168087fe0439f6281a">  287</a></span>&#160;  std::unique_ptr&lt;Encoder&gt; <a class="code" href="classpendule__pi_1_1Pendule.html#a4f2354c95890b1168087fe0439f6281a">position_encoder_</a>; </div>
<div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#ac5d727b9d2c825944ae050ced7575705">  288</a></span>&#160;  std::unique_ptr&lt;Encoder&gt; <a class="code" href="classpendule__pi_1_1Pendule.html#ac5d727b9d2c825944ae050ced7575705">angle_encoder_</a>; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a3d6467d49b5ef4693931bdf8f26fccc8">  291</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a3d6467d49b5ef4693931bdf8f26fccc8">steps2meters</a>(<span class="keyword">const</span> <span class="keywordtype">int</span>&amp; steps) { <span class="keywordflow">return</span> <a class="code" href="classpendule__pi_1_1Pendule.html#ab8564d9266c9fc4bda7bafe859a1dcb0">meters_per_step_</a>*(steps-<a class="code" href="classpendule__pi_1_1Pendule.html#a7eef5f9ef229f9f40d114db40d5c5622">mid_position_steps_</a>); }</div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a2c085978d505cc02100da3a61c607d06">  293</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a2c085978d505cc02100da3a61c607d06">steps2radians</a>(<span class="keyword">const</span> <span class="keywordtype">int</span>&amp; steps) { <span class="keywordflow">return</span> <a class="code" href="classpendule__pi_1_1Pendule.html#a2ced1f0ca5eee1381d6585409c1133ee">radians_per_step_</a>*steps-<a class="code" href="classpendule__pi_1_1Pendule.html#a564a42dc7896438fe1879f81c25e0e6d">rest_angle_</a>; }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="classpendule__pi_1_1Pendule.html#a1a17a7f6729c87043f05ee3810c0ac4c">  296</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">inline</span> std::unique_ptr&lt;Switch&gt; <a class="code" href="classpendule__pi_1_1Pendule.html#a1a17a7f6729c87043f05ee3810c0ac4c">makeDefaultSwitch</a>(<span class="keywordtype">int</span> pin) { <span class="keywordflow">return</span> std::make_unique&lt;Switch&gt;(pin, <a class="code" href="classpendule__pi_1_1Switch.html#aa22f2c3178d92679ddc2279d57c04a75">Switch::NORMALLY_UP</a>, <a class="code" href="classpendule__pi_1_1Switch.html#aaf4773ecf66e5a033e3e2863fd6d060c">Switch::WITH_PULL_RESISTOR</a>); }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;};</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_ab5e701ffe4a8dc13ffd2c4c0d0b3715d"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#ab5e701ffe4a8dc13ffd2c4c0d0b3715d">pendule_pi::Pendule::angvel_</a></div><div class="ttdeci">double angvel_</div><div class="ttdoc">Current velocity of the pendulum.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:271</div></div>
<div class="ttc" id="astructpendule__pi_1_1Pendule_1_1Pins_html"><div class="ttname"><a href="structpendule__pi_1_1Pendule_1_1Pins.html">pendule_pi::Pendule::Pins</a></div><div class="ttdoc">Internal struct that can be passed to specify pin connections.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:15</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a2f5c8e9303b06b1330f71b2bc8d4ce25"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a2f5c8e9303b06b1330f71b2bc8d4ce25">pendule_pi::Pendule::linearVelocity</a></div><div class="ttdeci">const double &amp; linearVelocity() const</div><div class="ttdoc">Get the current filtered velocity (in meters per second) of the base.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:212</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_1_1NotCalibrated_html_ad4b63d65108ebad553a01f2840eca300"><div class="ttname"><a href="classpendule__pi_1_1Pendule_1_1NotCalibrated.html#ad4b63d65108ebad553a01f2840eca300">pendule_pi::Pendule::NotCalibrated::NotCalibrated</a></div><div class="ttdeci">NotCalibrated(const std::string &amp;src)</div><div class="ttdoc">Fills the error message.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:37</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a4e9cfcbb3d6149b6e8fdde5c7a2c297e"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a4e9cfcbb3d6149b6e8fdde5c7a2c297e">pendule_pi::Pendule::right_switch_</a></div><div class="ttdeci">std::unique_ptr&lt; Switch &gt; right_switch_</div><div class="ttdoc">Right switch (should be near to the encoder).</div><div class="ttdef"><b>Definition:</b> pendule.hpp:286</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a46d7e47fd909b33a94fde4022655f2b5"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a46d7e47fd909b33a94fde4022655f2b5">pendule_pi::Pendule::left_switch_</a></div><div class="ttdeci">std::unique_ptr&lt; Switch &gt; left_switch_</div><div class="ttdoc">Left switch (should be near to the motor).</div><div class="ttdef"><b>Definition:</b> pendule.hpp:285</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a03e34abda82a35ebe2f5307370813221"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a03e34abda82a35ebe2f5307370813221">pendule_pi::Pendule::isCalibrated</a></div><div class="ttdeci">const bool &amp; isCalibrated() const</div><div class="ttdoc">Tells if the pendulum has been calibrated successfully.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:191</div></div>
<div class="ttc" id="astructpendule__pi_1_1Pendule_1_1Pins_html_a8e3f8bdb31910073d4a1318cb539bdf0"><div class="ttname"><a href="structpendule__pi_1_1Pendule_1_1Pins.html#a8e3f8bdb31910073d4a1318cb539bdf0">pendule_pi::Pendule::Pins::left_switch</a></div><div class="ttdeci">const int left_switch</div><div class="ttdoc">Pin used to read the state of the left switch.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:18</div></div>
<div class="ttc" id="anamespacedemo__zmq_html_a5c3caa55de580f50140000aebd4dbf98"><div class="ttname"><a href="namespacedemo__zmq.html#a5c3caa55de580f50140000aebd4dbf98">demo_zmq.pwm</a></div><div class="ttdeci">int pwm</div><div class="ttdef"><b>Definition:</b> demo_zmq.py:16</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a66c850468082aba5e06f53785b89637a"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a66c850468082aba5e06f53785b89637a">pendule_pi::Pendule::angle_</a></div><div class="ttdeci">double angle_</div><div class="ttdoc">Current angle of the pendulum.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:269</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_aeab733c10b4c736b8c4c9db6cd42e9fb"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#aeab733c10b4c736b8c4c9db6cd42e9fb">pendule_pi::Pendule::linvel_</a></div><div class="ttdeci">double linvel_</div><div class="ttdoc">Current velocity of the moving base.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:270</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_aae69513da955f189bd25a309043d3c9e"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#aae69513da955f189bd25a309043d3c9e">pendule_pi::Pendule::motor_</a></div><div class="ttdeci">std::unique_ptr&lt; Motor &gt; motor_</div><div class="ttdoc">Actuator to move the base of the pendulum.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:284</div></div>
<div class="ttc" id="astructpendule__pi_1_1Pendule_1_1Pins_html_a313383a5a36e268e43c9eda6eec3ccb3"><div class="ttname"><a href="structpendule__pi_1_1Pendule_1_1Pins.html#a313383a5a36e268e43c9eda6eec3ccb3">pendule_pi::Pendule::Pins::motor_pwm</a></div><div class="ttdeci">const int motor_pwm</div><div class="ttdoc">Pin used to send the PWM signal to the motor.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:16</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_1_1EmergencyStop_html"><div class="ttname"><a href="classpendule__pi_1_1Pendule_1_1EmergencyStop.html">pendule_pi::Pendule::EmergencyStop</a></div><div class="ttdoc">Exception class to be thrown when emergency stop is requested.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:50</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_adb85bcd916bab0d791ca6ea73f464c12"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#adb85bcd916bab0d791ca6ea73f464c12">pendule_pi::Pendule::setCommand</a></div><div class="ttdeci">bool setCommand(int pwm)</div><div class="ttdoc">Forwards the command to the actuator.</div><div class="ttdef"><b>Definition:</b> pendule.cpp:244</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a7eef5f9ef229f9f40d114db40d5c5622"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a7eef5f9ef229f9f40d114db40d5c5622">pendule_pi::Pendule::mid_position_steps_</a></div><div class="ttdeci">int mid_position_steps_</div><div class="ttdoc">Encoder reading when the base is at the middle position.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:275</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_ac8ecf9932a2825340c9117ed5c1dbb1a"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#ac8ecf9932a2825340c9117ed5c1dbb1a">pendule_pi::Pendule::max_position_steps_</a></div><div class="ttdeci">int max_position_steps_</div><div class="ttdoc">Encoder reading when the base is at the maximum position.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:274</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_1_1EmergencyStop_html_af814c87fdc29a6f0afc1510e54b155f5"><div class="ttname"><a href="classpendule__pi_1_1Pendule_1_1EmergencyStop.html#af814c87fdc29a6f0afc1510e54b155f5">pendule_pi::Pendule::EmergencyStop::EmergencyStop</a></div><div class="ttdeci">EmergencyStop(const std::string &amp;why)</div><div class="ttdoc">Fills the error message.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:55</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a6e7abd9db0020aea65cbb9ce995685a1"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a6e7abd9db0020aea65cbb9ce995685a1">pendule_pi::Pendule::calibrated_</a></div><div class="ttdeci">bool calibrated_</div><div class="ttdoc">Variable that is set to true once the pendulum calibration has been completed.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:265</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html">pendule_pi::Pendule</a></div><div class="ttdoc">Class that allows to control the Pendulum.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:12</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a2a1fa4ad95d936208fa00c42287605b5"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a2a1fa4ad95d936208fa00c42287605b5">pendule_pi::Pendule::emergency_stopped_</a></div><div class="ttdeci">bool emergency_stopped_</div><div class="ttdoc">Variable that is set to true when the pendulum has to stop.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:266</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a4f2354c95890b1168087fe0439f6281a"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a4f2354c95890b1168087fe0439f6281a">pendule_pi::Pendule::position_encoder_</a></div><div class="ttdeci">std::unique_ptr&lt; Encoder &gt; position_encoder_</div><div class="ttdoc">Encoder to read the current position of the base.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:287</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Switch_html_aa22f2c3178d92679ddc2279d57c04a75"><div class="ttname"><a href="classpendule__pi_1_1Switch.html#aa22f2c3178d92679ddc2279d57c04a75">pendule_pi::Switch::NORMALLY_UP</a></div><div class="ttdeci">static constexpr bool NORMALLY_UP</div><div class="ttdoc">Alias for the constructor parameter normally_up.</div><div class="ttdef"><b>Definition:</b> switch.hpp:14</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a19c702510087af40d43f546caad61e91"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a19c702510087af40d43f546caad61e91">pendule_pi::Pendule::setPwmOffsets</a></div><div class="ttdeci">void setPwmOffsets(int offset_down, int offset_up)</div><div class="ttdoc">Set offsets to compensate for friction.</div><div class="ttdef"><b>Definition:</b> pendule.cpp:300</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_ac6c8fe2813f2f9cc13f519893330f158"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#ac6c8fe2813f2f9cc13f519893330f158">pendule_pi::Pendule::softMinMaxPosition</a></div><div class="ttdeci">const double &amp; softMinMaxPosition() const</div><div class="ttdoc">Read the value of the soft position limits (in meters).</div><div class="ttdef"><b>Definition:</b> pendule.cpp:293</div></div>
<div class="ttc" id="astructpendule__pi_1_1Pendule_1_1Pins_html_a34a9684441ebee96067d13df045c4869"><div class="ttname"><a href="structpendule__pi_1_1Pendule_1_1Pins.html#a34a9684441ebee96067d13df045c4869">pendule_pi::Pendule::Pins::position_encoder_b</a></div><div class="ttdeci">const int position_encoder_b</div><div class="ttdoc">Second phase of the encoder used to measure the position of the base.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:21</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_1_1CalibrationFailed_html"><div class="ttname"><a href="classpendule__pi_1_1Pendule_1_1CalibrationFailed.html">pendule_pi::Pendule::CalibrationFailed</a></div><div class="ttdoc">Exception class to be thrown when the calibration fails for any reason.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:41</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a76f8ad4ed4438981910354fd58f7ffb5"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a76f8ad4ed4438981910354fd58f7ffb5">pendule_pi::Pendule::calibrate</a></div><div class="ttdeci">void calibrate(double safety_margin_meters)</div><div class="ttdoc">Initialize the pendulum.</div><div class="ttdef"><b>Definition:</b> pendule.cpp:102</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_abaeb2647302623dc34233daf5be204aa"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#abaeb2647302623dc34233daf5be204aa">pendule_pi::Pendule::midPositionSteps</a></div><div class="ttdeci">const int &amp; midPositionSteps() const</div><div class="ttdoc">Allow to access mid_position_steps_.</div><div class="ttdef"><b>Definition:</b> pendule.cpp:286</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a1b0879c5c7232ac2419948e7d9a53b08"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a1b0879c5c7232ac2419948e7d9a53b08">pendule_pi::Pendule::position_</a></div><div class="ttdeci">double position_</div><div class="ttdoc">Current position of the moving base.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:268</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a15ea0bc8cf1d040b847fb1e57f4511f6"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a15ea0bc8cf1d040b847fb1e57f4511f6">pendule_pi::Pendule::offset_static_</a></div><div class="ttdeci">int offset_static_</div><div class="ttdoc">Static offset to be applied to the command.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:282</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a9d66d81d873b07372786eeb64d3c767b"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a9d66d81d873b07372786eeb64d3c767b">pendule_pi::Pendule::offset_up_</a></div><div class="ttdeci">int offset_up_</div><div class="ttdoc">Offset to be applied to positive pwm commands.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:280</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a564a42dc7896438fe1879f81c25e0e6d"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a564a42dc7896438fe1879f81c25e0e6d">pendule_pi::Pendule::rest_angle_</a></div><div class="ttdeci">const double rest_angle_</div><div class="ttdoc">Position of the pendulum when it is at rest.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:279</div></div>
<div class="ttc" id="aswitch_8hpp_html"><div class="ttname"><a href="switch_8hpp.html">switch.hpp</a></div><div class="ttdoc">Header file for the Switch class.</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a8c6ab55323c72f5a2db61de53580d144"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a8c6ab55323c72f5a2db61de53580d144">pendule_pi::Pendule::position</a></div><div class="ttdeci">const double &amp; position() const</div><div class="ttdoc">Get the current filtered position (in meters) of the base.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:208</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a2e24ff3a7b32091f974cb3ce0cc996e0"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a2e24ff3a7b32091f974cb3ce0cc996e0">pendule_pi::Pendule::min_position_steps_</a></div><div class="ttdeci">int min_position_steps_</div><div class="ttdoc">Encoder reading when the base is at the minimum position.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:273</div></div>
<div class="ttc" id="astructpendule__pi_1_1Pendule_1_1Pins_html_a4d4e7e3c082539882ec9da45e0e5f56b"><div class="ttname"><a href="structpendule__pi_1_1Pendule_1_1Pins.html#a4d4e7e3c082539882ec9da45e0e5f56b">pendule_pi::Pendule::Pins::Pins</a></div><div class="ttdeci">Pins()</div><div class="ttdoc">Initialize the pins to a default.</div><div class="ttdef"><b>Definition:</b> pendule.cpp:10</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_ae274e5a33c0a212d3c3beafce7e25ecb"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#ae274e5a33c0a212d3c3beafce7e25ecb">pendule_pi::Pendule::update</a></div><div class="ttdeci">void update(double dt)</div><div class="ttdoc">Perform state estimation.</div><div class="ttdef"><b>Definition:</b> pendule.cpp:225</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a2ced1f0ca5eee1381d6585409c1133ee"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a2ced1f0ca5eee1381d6585409c1133ee">pendule_pi::Pendule::radians_per_step_</a></div><div class="ttdeci">const double radians_per_step_</div><div class="ttdoc">Multiplicative factor to convert from encoder steps to radians.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:278</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_1_1NotCalibrated_html"><div class="ttname"><a href="classpendule__pi_1_1Pendule_1_1NotCalibrated.html">pendule_pi::Pendule::NotCalibrated</a></div><div class="ttdoc">Exception class to be thrown when the pendulum has not been calibrated.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:29</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a2952afadf9edabebcb4cce85e95b967a"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a2952afadf9edabebcb4cce85e95b967a">pendule_pi::Pendule::angularVelocity</a></div><div class="ttdeci">const double &amp; angularVelocity() const</div><div class="ttdoc">Get the current filtered velocity (in radians per second) of the pendulum.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:214</div></div>
<div class="ttc" id="astructpendule__pi_1_1Pendule_1_1Pins_html_aba8982849de4060f7c7de8c2430b3a1b"><div class="ttname"><a href="structpendule__pi_1_1Pendule_1_1Pins.html#aba8982849de4060f7c7de8c2430b3a1b">pendule_pi::Pendule::Pins::motor_dir</a></div><div class="ttdeci">const int motor_dir</div><div class="ttdoc">Pin used to change the motor direction.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:17</div></div>
<div class="ttc" id="amotor_8hpp_html"><div class="ttname"><a href="motor_8hpp.html">motor.hpp</a></div><div class="ttdoc">Header file for the Motor class.</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_1_1CalibrationFailed_html_a8e0d9dbbe0a45f970e744c4c27b10e50"><div class="ttname"><a href="classpendule__pi_1_1Pendule_1_1CalibrationFailed.html#a8e0d9dbbe0a45f970e744c4c27b10e50">pendule_pi::Pendule::CalibrationFailed::CalibrationFailed</a></div><div class="ttdeci">CalibrationFailed(const std::string &amp;why)</div><div class="ttdoc">Fills the error message.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:46</div></div>
<div class="ttc" id="astructpendule__pi_1_1Pendule_1_1Pins_html_a1d9b5cb52ed9433c8b39310e9d9a9aaf"><div class="ttname"><a href="structpendule__pi_1_1Pendule_1_1Pins.html#a1d9b5cb52ed9433c8b39310e9d9a9aaf">pendule_pi::Pendule::Pins::angle_encoder_b</a></div><div class="ttdeci">const int angle_encoder_b</div><div class="ttdef"><b>Definition:</b> pendule.hpp:23</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_ac5d727b9d2c825944ae050ced7575705"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#ac5d727b9d2c825944ae050ced7575705">pendule_pi::Pendule::angle_encoder_</a></div><div class="ttdeci">std::unique_ptr&lt; Encoder &gt; angle_encoder_</div><div class="ttdoc">Encoder to read the current angle of the pendulum.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:288</div></div>
<div class="ttc" id="anamespacependule__pi_html"><div class="ttname"><a href="namespacependule__pi.html">pendule_pi</a></div><div class="ttdoc">Main namespace containing (almost) all provided classes.</div><div class="ttdef"><b>Definition:</b> encoder.hpp:9</div></div>
<div class="ttc" id="astructpendule__pi_1_1Pendule_1_1Pins_html_a06cd49d7862ae21edcf7c09058b41163"><div class="ttname"><a href="structpendule__pi_1_1Pendule_1_1Pins.html#a06cd49d7862ae21edcf7c09058b41163">pendule_pi::Pendule::Pins::position_encoder_a</a></div><div class="ttdeci">const int position_encoder_a</div><div class="ttdoc">First phase of the encoder used to measure the position of the base.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:20</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a1a17a7f6729c87043f05ee3810c0ac4c"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a1a17a7f6729c87043f05ee3810c0ac4c">pendule_pi::Pendule::makeDefaultSwitch</a></div><div class="ttdeci">static std::unique_ptr&lt; Switch &gt; makeDefaultSwitch(int pin)</div><div class="ttdoc">Auxiliary method that creates a Switch instance with default settings on the given pin.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:296</div></div>
<div class="ttc" id="astructpendule__pi_1_1Pendule_1_1Pins_html_a5849da2597a456cd3773a16f54d7941f"><div class="ttname"><a href="structpendule__pi_1_1Pendule_1_1Pins.html#a5849da2597a456cd3773a16f54d7941f">pendule_pi::Pendule::Pins::angle_encoder_a</a></div><div class="ttdeci">const int angle_encoder_a</div><div class="ttdoc">First phase of the encoder used to measure the angle of the pendulum.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:22</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_ac139d7af8f82166122391dfd2a2b871c"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#ac139d7af8f82166122391dfd2a2b871c">pendule_pi::Pendule::eStop</a></div><div class="ttdeci">void eStop(const std::string &amp;why)</div><div class="ttdoc">Emergency stop.</div><div class="ttdef"><b>Definition:</b> pendule.cpp:310</div></div>
<div class="ttc" id="aencoder_8hpp_html"><div class="ttname"><a href="encoder_8hpp.html">encoder.hpp</a></div><div class="ttdoc">Header file for the Encoder class.</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a75a2969a92230cf877e13fd797ec9e4f"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a75a2969a92230cf877e13fd797ec9e4f">pendule_pi::Pendule::soft_minmax_position_meters_</a></div><div class="ttdeci">double soft_minmax_position_meters_</div><div class="ttdoc">Position (in meters) at which emergency stop is requested.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:276</div></div>
<div class="ttc" id="astructpendule__pi_1_1Pendule_1_1Pins_html_aeb6e57f8fffbbc6c55294714d6500d5d"><div class="ttname"><a href="structpendule__pi_1_1Pendule_1_1Pins.html#aeb6e57f8fffbbc6c55294714d6500d5d">pendule_pi::Pendule::Pins::right_switch</a></div><div class="ttdeci">const int right_switch</div><div class="ttdoc">Pin used to read the state of the right switch.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:19</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a6d57676bf37975d46c8e40d4a02d8b45"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a6d57676bf37975d46c8e40d4a02d8b45">pendule_pi::Pendule::maxPositionSteps</a></div><div class="ttdeci">const int &amp; maxPositionSteps() const</div><div class="ttdoc">Allow to access max_position_steps_.</div><div class="ttdef"><b>Definition:</b> pendule.cpp:279</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a993d322b5470bf8d052d3f27fe1d8727"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a993d322b5470bf8d052d3f27fe1d8727">pendule_pi::Pendule::minPositionSteps</a></div><div class="ttdeci">const int &amp; minPositionSteps() const</div><div class="ttdoc">Allow to access min_position_steps_.</div><div class="ttdef"><b>Definition:</b> pendule.cpp:272</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a3d6467d49b5ef4693931bdf8f26fccc8"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a3d6467d49b5ef4693931bdf8f26fccc8">pendule_pi::Pendule::steps2meters</a></div><div class="ttdeci">double steps2meters(const int &amp;steps)</div><div class="ttdoc">Axuiliary method that converts steps into meters.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:291</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a9bb8c7622dc1b0a6be6ac162bf582c3f"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a9bb8c7622dc1b0a6be6ac162bf582c3f">pendule_pi::Pendule::Pendule</a></div><div class="ttdeci">Pendule(double meters_per_step, double radians_per_step, double rest_angle)</div><div class="ttdoc">Creates the pendulum, using the default pin connections.</div><div class="ttdef"><b>Definition:</b> pendule.cpp:24</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a17862f3687cc692277a15224c4d0ad25"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a17862f3687cc692277a15224c4d0ad25">pendule_pi::Pendule::offset_down_</a></div><div class="ttdeci">int offset_down_</div><div class="ttdoc">Offset to be applied to negative pwm commands.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:281</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_1_1NotCalibrated_html_a7b882aed4d4227807be01439d725dff0"><div class="ttname"><a href="classpendule__pi_1_1Pendule_1_1NotCalibrated.html#a7b882aed4d4227807be01439d725dff0">pendule_pi::Pendule::NotCalibrated::NotCalibrated</a></div><div class="ttdeci">NotCalibrated()</div><div class="ttdoc">Fills the error message.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:32</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_ab8564d9266c9fc4bda7bafe859a1dcb0"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#ab8564d9266c9fc4bda7bafe859a1dcb0">pendule_pi::Pendule::meters_per_step_</a></div><div class="ttdeci">const double meters_per_step_</div><div class="ttdoc">Multiplicative factor to convert from encoder steps to meters.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:277</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a15fd422fa65dec6c161a7f51d5aaf3d0"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a15fd422fa65dec6c161a7f51d5aaf3d0">pendule_pi::Pendule::angle</a></div><div class="ttdeci">const double &amp; angle() const</div><div class="ttdoc">Get the current filtered angle (in radians) of the pendulum.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:210</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Pendule_html_a2c085978d505cc02100da3a61c607d06"><div class="ttname"><a href="classpendule__pi_1_1Pendule.html#a2c085978d505cc02100da3a61c607d06">pendule_pi::Pendule::steps2radians</a></div><div class="ttdeci">double steps2radians(const int &amp;steps)</div><div class="ttdoc">Axuiliary method that converts steps into radians.</div><div class="ttdef"><b>Definition:</b> pendule.hpp:293</div></div>
<div class="ttc" id="aclasspendule__pi_1_1Switch_html_aaf4773ecf66e5a033e3e2863fd6d060c"><div class="ttname"><a href="classpendule__pi_1_1Switch.html#aaf4773ecf66e5a033e3e2863fd6d060c">pendule_pi::Switch::WITH_PULL_RESISTOR</a></div><div class="ttdeci">static constexpr bool WITH_PULL_RESISTOR</div><div class="ttdoc">Alias for the constructor parameter use_internal_pull_resistor.</div><div class="ttdef"><b>Definition:</b> switch.hpp:16</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_aa2614236c263a632a54e84899fb95b4.html">pendule_pi</a></li><li class="navelem"><a class="el" href="pendule_8hpp.html">pendule.hpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
